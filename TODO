# -*- mode: org; -*-

* DONE journal
  CLOSED: [2015-05-11 Mon 16:40]
  input: vectors or position

- if position: make single date to buy (or sell)

* TODO pl
  input: vectors or journal

- given journal and current.price: pl per instrument +
  realised/unrealised (also with initial position)
- with along.timestamp: allow for sereval instruments
- if timestamp if missing, supply 1:length(...) for every instrument
  (and a warning)

* TODO position
  input: vectors or journal

  journal: compute position at specified date

* TODO returns
  input: numeric (vector or matrix)

  zoo/t specified -- same as numeric

  zoo/t/period specified -- react to monthly etc
            
            position/time.weighted is TRUE -- time-weighted returns
            position/time.weighted is FALSE -- portfolio returns
                                               (unreported cash-position)

            new argument: time.weighted            


* TODO value

- journal: transform into cashflows
  with journal + when: cashflows, summed/mapped to when
- position: with price.table -- pos values



     Data: evalDate, marketPrices, vols, irates
     - evaluates to list "value", "delta" etc
     - Instrument[names(result)] <- result

     value(Instrument, Data)


* TODO Datetime helpers ? 
   hour(x)
   yday(x)
   wday(x)
   mday(x)
   week(x)
   month(x)
   quarter(x)
   year(x)


